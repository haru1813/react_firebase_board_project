<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API 명세서 - React Firebase 게시판 프로젝트</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 4px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            margin-top: 40px;
            margin-bottom: 20px;
            padding-left: 10px;
            border-left: 4px solid #3498db;
        }
        h3 {
            color: #555;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        .api-endpoint {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 20px;
            margin: 20px 0;
        }
        .method {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 3px;
            font-weight: bold;
            margin-right: 10px;
        }
        .get { background: #61affe; color: white; }
        .post { background: #49cc90; color: white; }
        .put { background: #fca130; color: white; }
        .delete { background: #f93e3e; color: white; }
        .endpoint-url {
            font-family: 'Courier New', monospace;
            font-size: 16px;
            color: #333;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background: #3498db;
            color: white;
            font-weight: bold;
        }
        tr:hover { background: #f5f5f5; }
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }
        .response-success {
            color: #49cc90;
        }
        .response-error {
            color: #f93e3e;
        }
        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>API 명세서</h1>
        <p><strong>프로젝트명:</strong> React Firebase 게시판 프로젝트</p>
        <p><strong>버전:</strong> 1.0.0</p>
        <p><strong>작성일:</strong> 2024</p>
        <p><strong>기술 스택:</strong> React, Firebase Authentication, Firestore</p>

        <h2>1. 인증 API</h2>

        <div class="api-endpoint">
            <h3>
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/auth/register</span>
            </h3>
            <p><strong>설명:</strong> 신규 사용자 회원가입</p>
            
            <h4>요청 본문 (Request Body)</h4>
            <table>
                <tr>
                    <th>필드명</th>
                    <th>타입</th>
                    <th>필수</th>
                    <th>설명</th>
                </tr>
                <tr>
                    <td>email</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>이메일 주소 (유효한 이메일 형식)</td>
                </tr>
                <tr>
                    <td>password</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>비밀번호 (최소 6자 이상)</td>
                </tr>
                <tr>
                    <td>displayName</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>사용자 표시 이름</td>
                </tr>
            </table>

            <h4>요청 예시</h4>
            <div class="code-block">
{
  "email": "user@example.com",
  "password": "password123",
  "displayName": "홍길동"
}
            </div>

            <h4>응답 예시</h4>
            <div class="code-block response-success">
{
  "success": true,
  "user": {
    "uid": "user123",
    "email": "user@example.com",
    "displayName": "홍길동",
    "createdAt": "2024-01-01T00:00:00Z"
  }
}
            </div>

            <h4>에러 응답</h4>
            <div class="code-block response-error">
{
  "success": false,
  "error": {
    "code": "auth/email-already-in-use",
    "message": "이미 사용 중인 이메일입니다."
  }
}
            </div>
        </div>

        <div class="api-endpoint">
            <h3>
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/auth/login</span>
            </h3>
            <p><strong>설명:</strong> 사용자 로그인</p>
            
            <h4>요청 본문 (Request Body)</h4>
            <table>
                <tr>
                    <th>필드명</th>
                    <th>타입</th>
                    <th>필수</th>
                    <th>설명</th>
                </tr>
                <tr>
                    <td>email</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>이메일 주소</td>
                </tr>
                <tr>
                    <td>password</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>비밀번호</td>
                </tr>
            </table>

            <h4>요청 예시</h4>
            <div class="code-block">
{
  "email": "user@example.com",
  "password": "password123"
}
            </div>

            <h4>응답 예시</h4>
            <div class="code-block response-success">
{
  "success": true,
  "user": {
    "uid": "user123",
    "email": "user@example.com",
    "displayName": "홍길동"
  },
  "token": "firebase-auth-token"
}
            </div>
        </div>

        <div class="api-endpoint">
            <h3>
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/auth/logout</span>
            </h3>
            <p><strong>설명:</strong> 사용자 로그아웃</p>
            
            <h4>요청 헤더</h4>
            <table>
                <tr>
                    <th>필드명</th>
                    <th>타입</th>
                    <th>필수</th>
                    <th>설명</th>
                </tr>
                <tr>
                    <td>Authorization</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>Bearer {token}</td>
                </tr>
            </table>

            <h4>응답 예시</h4>
            <div class="code-block response-success">
{
  "success": true,
  "message": "로그아웃되었습니다."
}
            </div>
        </div>

        <h2>2. 게시판 API</h2>

        <div class="api-endpoint">
            <h3>
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/posts</span>
            </h3>
            <p><strong>설명:</strong> 게시글 목록 조회 (페이지네이션 지원)</p>
            
            <h4>쿼리 파라미터</h4>
            <table>
                <tr>
                    <th>파라미터</th>
                    <th>타입</th>
                    <th>필수</th>
                    <th>설명</th>
                </tr>
                <tr>
                    <td>page</td>
                    <td>number</td>
                    <td>✗</td>
                    <td>페이지 번호 (기본값: 1)</td>
                </tr>
                <tr>
                    <td>limit</td>
                    <td>number</td>
                    <td>✗</td>
                    <td>페이지당 항목 수 (기본값: 10)</td>
                </tr>
                <tr>
                    <td>search</td>
                    <td>string</td>
                    <td>✗</td>
                    <td>검색어 (제목, 내용 검색)</td>
                </tr>
            </table>

            <h4>응답 예시</h4>
            <div class="code-block response-success">
{
  "success": true,
  "data": {
    "posts": [
      {
        "id": "post123",
        "title": "게시글 제목",
        "content": "게시글 내용",
        "author": {
          "uid": "user123",
          "displayName": "홍길동"
        },
        "createdAt": "2024-01-01T00:00:00Z",
        "updatedAt": "2024-01-01T00:00:00Z",
        "views": 0,
        "likes": 0
      }
    ],
    "pagination": {
      "currentPage": 1,
      "totalPages": 5,
      "totalItems": 50,
      "itemsPerPage": 10
    }
  }
}
            </div>
        </div>

        <div class="api-endpoint">
            <h3>
                <span class="method get">GET</span>
                <span class="endpoint-url">/api/posts/:id</span>
            </h3>
            <p><strong>설명:</strong> 특정 게시글 상세 조회</p>
            
            <h4>경로 파라미터</h4>
            <table>
                <tr>
                    <th>파라미터</th>
                    <th>타입</th>
                    <th>필수</th>
                    <th>설명</th>
                </tr>
                <tr>
                    <td>id</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>게시글 ID</td>
                </tr>
            </table>

            <h4>응답 예시</h4>
            <div class="code-block response-success">
{
  "success": true,
  "data": {
    "id": "post123",
    "title": "게시글 제목",
    "content": "게시글 내용",
    "author": {
      "uid": "user123",
      "displayName": "홍길동"
    },
    "createdAt": "2024-01-01T00:00:00Z",
    "updatedAt": "2024-01-01T00:00:00Z",
    "views": 10,
    "likes": 5
  }
}
            </div>
        </div>

        <div class="api-endpoint">
            <h3>
                <span class="method post">POST</span>
                <span class="endpoint-url">/api/posts</span>
            </h3>
            <p><strong>설명:</strong> 새 게시글 작성</p>
            
            <h4>요청 헤더</h4>
            <table>
                <tr>
                    <th>필드명</th>
                    <th>타입</th>
                    <th>필수</th>
                    <th>설명</th>
                </tr>
                <tr>
                    <td>Authorization</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>Bearer {token}</td>
                </tr>
            </table>

            <h4>요청 본문 (Request Body)</h4>
            <table>
                <tr>
                    <th>필드명</th>
                    <th>타입</th>
                    <th>필수</th>
                    <th>설명</th>
                </tr>
                <tr>
                    <td>title</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>게시글 제목 (최소 1자, 최대 200자)</td>
                </tr>
                <tr>
                    <td>content</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>게시글 내용 (최소 1자)</td>
                </tr>
            </table>

            <h4>요청 예시</h4>
            <div class="code-block">
{
  "title": "새 게시글 제목",
  "content": "게시글 내용입니다."
}
            </div>

            <h4>응답 예시</h4>
            <div class="code-block response-success">
{
  "success": true,
  "data": {
    "id": "post123",
    "title": "새 게시글 제목",
    "content": "게시글 내용입니다.",
    "author": {
      "uid": "user123",
      "displayName": "홍길동"
    },
    "createdAt": "2024-01-01T00:00:00Z",
    "updatedAt": "2024-01-01T00:00:00Z",
    "views": 0,
    "likes": 0
  }
}
            </div>
        </div>

        <div class="api-endpoint">
            <h3>
                <span class="method put">PUT</span>
                <span class="endpoint-url">/api/posts/:id</span>
            </h3>
            <p><strong>설명:</strong> 게시글 수정 (작성자만 가능)</p>
            
            <h4>요청 헤더</h4>
            <table>
                <tr>
                    <th>필드명</th>
                    <th>타입</th>
                    <th>필수</th>
                    <th>설명</th>
                </tr>
                <tr>
                    <td>Authorization</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>Bearer {token}</td>
                </tr>
            </table>

            <h4>요청 본문 (Request Body)</h4>
            <table>
                <tr>
                    <th>필드명</th>
                    <th>타입</th>
                    <th>필수</th>
                    <th>설명</th>
                </tr>
                <tr>
                    <td>title</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>게시글 제목</td>
                </tr>
                <tr>
                    <td>content</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>게시글 내용</td>
                </tr>
            </table>

            <h4>응답 예시</h4>
            <div class="code-block response-success">
{
  "success": true,
  "data": {
    "id": "post123",
    "title": "수정된 제목",
    "content": "수정된 내용",
    "updatedAt": "2024-01-01T01:00:00Z"
  }
}
            </div>
        </div>

        <div class="api-endpoint">
            <h3>
                <span class="method delete">DELETE</span>
                <span class="endpoint-url">/api/posts/:id</span>
            </h3>
            <p><strong>설명:</strong> 게시글 삭제 (작성자만 가능)</p>
            
            <h4>요청 헤더</h4>
            <table>
                <tr>
                    <th>필드명</th>
                    <th>타입</th>
                    <th>필수</th>
                    <th>설명</th>
                </tr>
                <tr>
                    <td>Authorization</td>
                    <td>string</td>
                    <td>✓</td>
                    <td>Bearer {token}</td>
                </tr>
            </table>

            <h4>응답 예시</h4>
            <div class="code-block response-success">
{
  "success": true,
  "message": "게시글이 삭제되었습니다."
}
            </div>
        </div>

        <h2>3. 공통 에러 코드</h2>
        <table>
            <tr>
                <th>에러 코드</th>
                <th>HTTP 상태</th>
                <th>설명</th>
            </tr>
            <tr>
                <td>auth/invalid-email</td>
                <td>400</td>
                <td>유효하지 않은 이메일 형식</td>
            </tr>
            <tr>
                <td>auth/user-not-found</td>
                <td>404</td>
                <td>사용자를 찾을 수 없음</td>
            </tr>
            <tr>
                <td>auth/wrong-password</td>
                <td>401</td>
                <td>잘못된 비밀번호</td>
            </tr>
            <tr>
                <td>auth/email-already-in-use</td>
                <td>409</td>
                <td>이미 사용 중인 이메일</td>
            </tr>
            <tr>
                <td>auth/unauthorized</td>
                <td>401</td>
                <td>인증되지 않은 요청</td>
            </tr>
            <tr>
                <td>posts/not-found</td>
                <td>404</td>
                <td>게시글을 찾을 수 없음</td>
            </tr>
            <tr>
                <td>posts/forbidden</td>
                <td>403</td>
                <td>권한이 없음 (작성자만 수정/삭제 가능)</td>
            </tr>
        </table>

        <div class="note">
            <strong>참고:</strong> 이 API 명세서는 Firebase Authentication과 Firestore를 사용하는 클라이언트 측 API를 정의합니다. 
            실제 구현 시 Firebase SDK를 통해 직접 호출됩니다.
        </div>
    </div>
</body>
</html>

